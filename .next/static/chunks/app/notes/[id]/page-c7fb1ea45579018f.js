(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{63801:function(e,t,n){Promise.resolve().then(n.bind(n,56546))},56546:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(57437),a=n(2265),s=n(99376),o=n(18930),i=n(83229),l=n(58784),c=n(94508),u=n(95186),d=n(76818),f=n(26815),m=n(11873);function p(e){let{note:t,onChange:n}=e,s=(0,a.useId)(),o=(0,a.useId)(),i=(0,a.useId)(),p=(0,a.useId)(),{settings:{fontScale:g}}=(0,m.r)();return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(f._,{htmlFor:s,children:"Titel"}),(0,r.jsx)(u.I,{id:s,"aria-label":"Titel der Notiz",value:t.title,onChange:e=>n({...t,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(f._,{htmlFor:o,children:"Modul"}),(0,r.jsx)("select",{id:o,"aria-label":"Modulauswahl",value:t.module,onChange:e=>n({...t,module:e.target.value}),className:"h-10 w-full rounded-lg border border-border/60 bg-surface/60 px-3 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-accent/70",children:l.VB.map(e=>(0,r.jsx)("option",{value:e.slug,className:"bg-slate-900",children:e.name},e.slug))})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(f._,{htmlFor:i,children:"Tags (Kommagetrennt)"}),(0,r.jsx)(u.I,{id:i,"aria-label":"Tags f\xfcr die Notiz",value:t.tags.join(", "),onChange:e=>n({...t,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(f._,{htmlFor:p,children:"Inhalt (Markdown + LaTeX)"}),(0,r.jsx)(d.g,{id:p,"aria-label":"Markdown Editor",className:(0,c.cn)("min-h-[480px] resize-vertical font-mono","text-base"==("sm"===g?"text-sm":"lg"===g?"text-base":"text-sm")?"text-base":"text-sm"),value:t.content,onChange:e=>n({...t,content:e.target.value}),spellCheck:!1})]}),(0,r.jsxs)("p",{className:"text-xs text-slate-400",children:["Aktualisiert: ",new Date(t.updatedAt).toLocaleString("de-DE",{dateStyle:"medium",timeStyle:"short"})]})]})}var g=n(5416),x=n(74167),h=n(83037),b=n(70089),v=n(55726),y=n(78537),w=n(94428);function N(e,t,n){var r,a;return Array.from(new Set([...null!==(a=null===(r=e.attributes)||void 0===r?void 0:r[t])&&void 0!==a?a:[],...n].map(e=>JSON.stringify(e)))).map(e=>JSON.parse(e))}let j={...w.R,attributes:{...w.R.attributes},tagNames:w.R.tagNames?[...w.R.tagNames]:void 0};if(j.attributes||(j.attributes={}),j.attributes["*"]=N(j,"*",["className","style"]),j.attributes.span=N(j,"span",[["className"],["style"]]),j.attributes.div=N(j,"div",[["className"],["style"]]),j.attributes.code=N(j,"code",[["className"],["style"]]),j.attributes.pre=N(j,"pre",[["className"],["style"]]),j.tagNames){let e=new Set([...j.tagNames,"math","annotation","semantics","mrow","mi","mn","mo","ms","mfrac","msup","msub","msubsup","mtable","mtr","mtd","mspace","mfenced","mstyle","menclose"]);j.tagNames=Array.from(e)}var k=n(34405);function S(e){let{note:t,containerId:n}=e,{settings:{fontScale:a}}=(0,m.r)();return(0,r.jsxs)("section",{id:n,"aria-label":"Vorschau der Notiz",className:(0,c.cn)("glass p-6 space-y-4 print-safe","sm"===a?"text-sm":"lg"===a?"text-lg":"text-base"),children:[(0,r.jsxs)("header",{className:"space-y-2 border-b border-border/50 pb-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-slate-50",children:t.title}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm text-slate-300",children:[(0,r.jsx)(k._,{module:t.module}),(0,r.jsxs)("span",{children:["Erstellt: ",new Date(t.createdAt).toLocaleDateString("de-DE")]}),(0,r.jsxs)("span",{children:["Zuletzt ge\xe4ndert: ",new Date(t.updatedAt).toLocaleString("de-DE")]})]}),t.tags.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 text-xs text-accent/90",children:t.tags.map(e=>(0,r.jsxs)("span",{className:"rounded-full border border-accent/40 bg-accent/10 px-2 py-1",children:["#",e]},e))})]}),(0,r.jsx)("article",{className:"markdown-content prose prose-invert max-w-none text-slate-100",children:(0,r.jsx)(g.UG,{remarkPlugins:[x.Z,h.Z],rehypePlugins:[[y.Z,j],b.Z,v.Z],children:t.content})})]})}var C=n(62869);async function E(e,t){let{containerId:r}=t,a=document.getElementById(r);if(!a)return;let s=await Promise.all([n.e(125),n.e(505),n.e(632),n.e(337),n.e(784)]).then(n.t.bind(n,41690,23)),o="function"==typeof s?s:s.default;if(!o)throw Error("html2pdf.js konnte nicht geladen werden");let i=e.updatedAt.split("T")[0],l={margin:.6,filename:"".concat(i,"-").concat(e.title.replace(/[^a-zA-Z0-9-_]+/g,"-"),".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:1.5,useCORS:!0},jsPDF:{unit:"cm",format:"a4",orientation:"portrait"}};await o().set(l).from(a).save()}function D(e){let{note:t,containerId:n}=e,[s,o]=(0,a.useState)(!1),i=async()=>{try{o(!0),await E(t,{containerId:n})}finally{o(!1)}};return(0,r.jsx)(C.z,{onClick:i,disabled:s,variant:"outline",className:"gap-2",children:s?"Exportiereâ€¦":"Als PDF exportieren"})}var I=n(43369),O=n(10141);function z(){let e=(0,s.useParams)(),t=(0,s.useRouter)(),{notes:n,updateNote:l,deleteNote:c}=(0,O._E)(),[u,d]=(0,a.useState)(null),f=(0,a.useMemo)(()=>n.find(t=>t.id===e.id),[n,e.id]);if((0,a.useEffect)(()=>{f&&d(f)},[f]),!f||!u)return(0,r.jsx)(I.W,{title:"Notiz nicht gefunden",description:"Die angeforderte Notiz existiert nicht oder wurde gel\xf6scht.",className:"mx-auto max-w-xl text-center",footer:(0,r.jsx)(C.z,{onClick:()=>t.push("/notes"),children:"Zur Notiz\xfcbersicht"})});let m="note-preview-".concat(f.id);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold tracking-tight text-foreground",children:"Notiz bearbeiten"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)(D,{note:u,containerId:m}),(0,r.jsxs)(C.z,{variant:"destructive",onClick:()=>{window.confirm("Diese Notiz wirklich l\xf6schen?")&&(c(f.id),t.push("/notes"))},className:"gap-2",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4","aria-hidden":!0})," L\xf6schen"]}),(0,r.jsxs)(C.z,{onClick:()=>{u&&l({...u,updatedAt:new Date().toISOString()})},className:"gap-2",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4","aria-hidden":!0})," Speichern"]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsx)(p,{note:u,onChange:e=>{d({...e,updatedAt:new Date().toISOString()})}}),(0,r.jsx)(S,{note:u,containerId:m})]})]})}},43369:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(57437),a=n(94508);function s(e){let{title:t,description:n,footer:s,className:o,children:i,...l}=e;return(0,r.jsxs)("section",{className:(0,a.cn)("rounded-3xl border border-border/40 bg-card/60 p-6 text-foreground shadow-glass backdrop-blur-xl",o),...l,children:[(t||n)&&(0,r.jsxs)("header",{className:"mb-5 space-y-2",children:[t&&(0,r.jsx)("h2",{className:"text-xl font-semibold tracking-tight text-foreground",children:t}),n&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:n})]}),(0,r.jsx)("div",{className:"space-y-4 text-foreground",children:i}),s&&(0,r.jsx)("footer",{className:"mt-6 flex items-center justify-end gap-3 text-sm text-muted-foreground",children:s})]})}},34405:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(57437),a=n(58784),s=n(94508);function o(e){let{module:t,className:n}=e;return(0,r.jsxs)("span",{className:(0,s.cn)("inline-flex items-center gap-2 rounded-full border border-card/40 bg-card/30 px-3 py-1 text-[0.65rem] font-medium uppercase tracking-[0.3em]",n),style:{borderColor:a.c5[t],color:a.c5[t]},children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:a.c5[t]},"aria-hidden":!0}),a.BF[t]]})}},62869:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(57437),a=n(2265),s=n(37053),o=n(90535),i=n(94508);let l=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-60",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-glow hover:bg-primary/90",outline:"border border-border/70 bg-transparent text-foreground hover:border-border hover:bg-foreground/5",ghost:"text-muted-foreground hover:text-foreground hover:bg-foreground/5",destructive:"bg-destructive text-primary-foreground hover:bg-destructive/80",light:"bg-secondary text-secondary-foreground hover:bg-secondary/80"},size:{default:"h-10 px-5",sm:"h-9 px-4 text-xs",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:o,asChild:c=!1,...u}=e,d=c?s.g7:"button";return(0,r.jsx)(d,{className:(0,i.cn)(l({variant:a,size:o}),n),ref:t,...u})});c.displayName="Button"},95186:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(57437),a=n(2265),s=n(94508);let o=a.forwardRef((e,t)=>{let{className:n,type:a="text",...o}=e;return(0,r.jsx)("input",{ref:t,type:a,className:(0,s.cn)("flex h-10 w-full rounded-full border border-border/40 bg-card/20 px-4 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",n),...o})});o.displayName="Input"},26815:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(57437),a=n(2265),s=n(94508);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("label",{ref:t,className:(0,s.cn)("text-sm font-medium text-slate-200",n),...a})});o.displayName="Label"},76818:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(57437),a=n(2265),s=n(94508);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[180px] w-full rounded-lg border border-border/70 bg-surface/60 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60",n),ref:t,...a})});o.displayName="Textarea"},58784:function(e,t,n){"use strict";n.d(t,{BF:function(){return a},JO:function(){return o},VB:function(){return r},c5:function(){return s}});let r=[{slug:"experimentalphysik-1",name:"Experimentalphysik I \xb7 Mechanik",color:"#74c0fc"},{slug:"mathe-physiker-1",name:"Mathematik f\xfcr Physiker I",color:"#ffd43b"},{slug:"praktikum-exp-1",name:"Praktikum Experimentalphysik I",color:"#ffa94d"},{slug:"einfuehrungspraktikum",name:"Einf\xfchrungspraktikum Physik",color:"#63e6be"}],a=r.reduce((e,t)=>(e[t.slug]=t.name,e),{}),s=r.reduce((e,t)=>(e[t.slug]=t.color,e),{}),o=r[0].slug;r.map(e=>({label:e.name,value:e.slug}))},10141:function(e,t,n){"use strict";n.d(t,{Xu:function(){return m},YL:function(){return x},w_:function(){return h},Mp:function(){return g},_E:function(){return p}});var r=n(57437),a=n(2265),s=n(58784),o=n(7795),i=n(94508);let l="physik-notes",c={notes:[]};function u(){var e,t,n,r,a,o;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=new Date().toISOString();return{id:(0,i.Ox)("note"),title:null!==(e=l.title)&&void 0!==e?e:"Neue Notiz",module:null!==(t=l.module)&&void 0!==t?t:s.JO,tags:null!==(n=l.tags)&&void 0!==n?n:[],content:null!==(r=l.content)&&void 0!==r?r:"",createdAt:null!==(a=l.createdAt)&&void 0!==a?a:c,updatedAt:null!==(o=l.updatedAt)&&void 0!==o?o:c}}function d(e,t){switch(t.type){case"create":return{notes:[t.payload,...e.notes]};case"update":return{notes:e.notes.map(e=>e.id===t.payload.id?{...t.payload}:e).sort((e,t)=>e.updatedAt<t.updatedAt?1:-1)};case"delete":return{notes:e.notes.filter(e=>e.id!==t.id)};case"bulk-set":return{notes:[...t.payload].sort((e,t)=>e.updatedAt<t.updatedAt?1:-1)};default:return e}}let f=(0,a.createContext)(null);function m(e){let{children:t}=e,[n,m]=(0,a.useReducer)(d,c,e=>{let t=(0,o.mO)(l,[]);return t.length?{notes:t}:{notes:[u({title:"Willkommen beim Notiz-Tracker",tags:["intro"],content:"## Erste Schritte\n\n- W\xe4hle links deine Module aus\n- Nutze **Markdown** und $\\LaTeX$ zur Darstellung\n- Exportiere Notizen als PDF f\xfcr Pr\xfcfungsunterlagen\n\n$$E = mc^2$$",module:s.JO})]}});(0,a.useEffect)(()=>{(0,o.RY)(l,n.notes)},[n.notes]);let p=(0,a.useCallback)(e=>{let t=u(e);return m({type:"create",payload:t}),t},[]),g=(0,a.useCallback)(e=>{m({type:"update",payload:e})},[]),x=(0,a.useCallback)(e=>{m({type:"delete",id:e})},[]),h=(0,a.useCallback)(e=>{let t=n.notes.find(t=>t.id===e);if(!t)return;let r={...t,id:(0,i.Ox)("note"),title:"".concat(t.title," (Kopie)"),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return m({type:"create",payload:r}),r},[n.notes]),b=(0,a.useCallback)(e=>{m({type:"bulk-set",payload:e})},[]),v=(0,a.useMemo)(()=>({notes:n.notes,createNote:p,updateNote:g,deleteNote:x,duplicateNote:h,importNotes:b}),[n.notes,p,g,x,h,b]);return(0,r.jsx)(f.Provider,{value:v,children:t})}function p(){let e=(0,a.useContext)(f);if(!e)throw Error("useNotes muss innerhalb von <NotesProvider> verwendet werden");return e}function g(e,t){let n=t.trim().toLowerCase();return n?e.filter(e=>e.title.toLowerCase().includes(n)||e.content.toLowerCase().includes(n)||e.tags.some(e=>e.toLowerCase().includes(n))):e}function x(e,t){return t?e.filter(e=>e.module===t):e}function h(e,t){if(!t.length)return e;let n=new Set(t.map(e=>e.toLowerCase()));return e.filter(e=>e.tags.some(e=>n.has(e.toLowerCase())))}},11873:function(e,t,n){"use strict";n.d(t,{m:function(){return c},r:function(){return u}});var r=n(57437),a=n(2265),s=n(7795);let o="physik-settings",i={fontScale:"md"},l=(0,a.createContext)(null);function c(e){let{children:t}=e,[n,c]=(0,a.useState)(()=>(0,s.mO)(o,i));(0,a.useEffect)(()=>{(0,s.RY)(o,n)},[n]),(0,a.useEffect)(()=>{document.documentElement.dataset.fontScale=n.fontScale},[n.fontScale]);let u=e=>{c(t=>({...t,fontScale:e}))},d=(0,a.useMemo)(()=>({settings:n,setFontScale:u}),[n]);return(0,r.jsx)(l.Provider,{value:d,children:t})}function u(){let e=(0,a.useContext)(l);if(!e)throw Error("useSettings muss innerhalb von <SettingsProvider> genutzt werden");return e}},7795:function(e,t,n){"use strict";n.d(t,{DS:function(){return i},RY:function(){return o},mO:function(){return s},xJ:function(){return l}});var r=n(94508);let a=new Map;function s(e,t){if(!(0,r.jU)())return t;try{let n=window.localStorage.getItem(e);if(!n)return t;return JSON.parse(n)}catch(n){return console.warn("[storage] konnte Schl\xfcssel ".concat(e," nicht laden"),n),t}}function o(e,t){if(!(0,r.jU)()){a.set(e,t);return}try{window.localStorage.setItem(e,JSON.stringify(t))}catch(t){console.warn("[storage] konnte Schl\xfcssel ".concat(e," nicht speichern"),t)}}function i(e,t){if(!(0,r.jU)())return;let n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=e,s.click(),setTimeout(()=>URL.revokeObjectURL(a),0)}function l(e){return new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{try{let e=JSON.parse(r.result);t(e)}catch(e){n(e)}},r.onerror=()=>n(r.error),r.readAsText(e,"utf-8")})}},94508:function(e,t,n){"use strict";n.d(t,{Ox:function(){return i},cn:function(){return s},jU:function(){return o},mr:function(){return c},p6:function(){return l}});var r=n(61994),a=n(53335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}function o(){return!0}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?"".concat(e,"-").concat(crypto.randomUUID()):"".concat(e,"-").concat(Math.random().toString(36).slice(2,10))}function l(e){let t=new Date(e);return new Intl.DateTimeFormat("de-DE",{dateStyle:"medium"}).format(t)}function c(e){let t=new Date(e);return new Intl.DateTimeFormat("de-DE",{timeStyle:"short"}).format(t)}}},function(e){e.O(0,[954,590,295,971,117,744],function(){return e(e.s=63801)}),_N_E=e.O()}]);